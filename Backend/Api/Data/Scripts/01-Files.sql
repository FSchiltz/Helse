
CREATE SCHEMA file;

CREATE TABLE file.Blob
(
  Id BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
  FileId BIGINT NOT NULL,
  Data   bytea   NOT NULL,
  Type   INT    NOT NULL
);

CREATE TABLE file.Files
(  
  Id BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
  Creation TIMESTAMP NOT NULL
);

ALTER TABLE file.Blob
  ADD CONSTRAINT FK_Files_TO_Blob
    FOREIGN KEY (FileId)
    REFERENCES file.Files (Id);

       